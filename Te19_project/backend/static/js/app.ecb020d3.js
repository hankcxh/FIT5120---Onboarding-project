(function(){"use strict";var e={4529:function(e,t,a){var r=a(3751),s=a(641);function o(e,t){const a=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.Wv)(a)}var n=a(6262);const i={},l=(0,n.A)(i,[["render",o]]);var c=l,d=a(5220);const p={class:"home-page"},u={class:"hero"};function h(e,t,a,r,o,n){const i=(0,s.g2)("HeaderBar"),l=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",p,[(0,s.bF)(i),(0,s.Lk)("section",u,[t[1]||(t[1]=(0,s.Lk)("h1",null,"Smart commuting, greening Melbourne",-1)),t[2]||(t[2]=(0,s.Lk)("p",null,"Get instant parking and commuting information to create a green city",-1)),(0,s.bF)(l,{to:"/insights",class:"cta-button"},{default:(0,s.k6)(()=>t[0]||(t[0]=[(0,s.eW)("Get started",-1)])),_:1,__:[0]})])])}var g=a.p+"img/logo.4156aa30.png";const m={class:"header-bar"},b={class:"nav"},f={class:"nav-links"};function k(e,t,a,r,o,n){const i=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("header",m,[(0,s.Lk)("nav",b,[t[3]||(t[3]=(0,s.Lk)("div",{class:"brand"},[(0,s.Lk)("img",{src:g,alt:"Logo",class:"logo-img"}),(0,s.Lk)("span",{class:"brand-text"},"Melbourne Traffic")],-1)),(0,s.Lk)("div",f,[(0,s.bF)(i,{to:"/","exact-active-class":"active"},{default:(0,s.k6)(()=>t[0]||(t[0]=[(0,s.eW)("Home",-1)])),_:1,__:[0]}),(0,s.bF)(i,{to:"/insights","active-class":"active"},{default:(0,s.k6)(()=>t[1]||(t[1]=[(0,s.eW)("Data Insights",-1)])),_:1,__:[1]}),(0,s.bF)(i,{to:"/parking","active-class":"active"},{default:(0,s.k6)(()=>t[2]||(t[2]=[(0,s.eW)("Real-time parking information",-1)])),_:1,__:[2]})])])])}var v={name:"HeaderBar"};const y=(0,n.A)(v,[["render",k],["__scopeId","data-v-2b36ac05"]]);var L=y,x={name:"HomeView",components:{HeaderBar:L}};const w=(0,n.A)(x,[["render",h],["__scopeId","data-v-687615ca"]]);var C=w,_=a(33);const I={class:"insights-page"},S={class:"container"},P={class:"card-grid"},M={class:"card"},T={class:"card-body"},E={ref:"vehicleChart"},A={class:"card"},O={class:"card-body"},R={ref:"popChart"},F={class:"analysis-grid"},j={class:"analysis-box"},N={key:0},D={class:"analysis-box"},$={key:0};function U(e,t,a,r,o,n){const i=(0,s.g2)("HeaderBar");return(0,s.uX)(),(0,s.CE)("div",I,[(0,s.bF)(i),(0,s.Lk)("main",S,[t[15]||(t[15]=(0,s.Lk)("h1",null,"Let Data tells Melbourne's traffic situation",-1)),(0,s.Lk)("div",P,[(0,s.Lk)("section",M,[t[0]||(t[0]=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("span",{class:"small-text"},"Melbourne Car ownership")],-1)),(0,s.Lk)("div",T,[(0,s.Lk)("canvas",E,null,512)])]),(0,s.Lk)("section",A,[t[1]||(t[1]=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("span",{class:"small-text"},"Melbourne population growth")],-1)),(0,s.Lk)("div",O,[(0,s.Lk)("canvas",R,null,512)])])]),(0,s.Lk)("div",F,[(0,s.Lk)("div",j,[t[4]||(t[4]=(0,s.Lk)("p",null,"High Vehicle Count - Victoria has had the second-highest number of passenger motor vehicles in Australia, and that number always keeps on growing year-on-year.",-1)),t[5]||(t[5]=(0,s.Lk)("p",null,"Fewer Cars Leaving the Roads - The attrition rate (cars being deregistered) is decreasing, which means older vehicles are staying in use for longer periods.",-1)),t[6]||(t[6]=(0,s.Lk)("p",null,"Old and New Cars Together - Combination of old and new cars keep the overall number of vehicles in the city consistently high.",-1)),t[7]||(t[7]=(0,s.Lk)("p",null,"Impact on Daily Life - More number of vehicles contribute to heavier traffic and fewer available parking spots, especially during peak hours.",-1)),o.metaVehicle?((0,s.uX)(),(0,s.CE)("p",N,[t[2]||(t[2]=(0,s.eW)(" Total growth: ",-1)),(0,s.Lk)("strong",null,(0,_.v_)((100*o.metaVehicle.total_growth).toFixed(2))+"%",1),t[3]||(t[3]=(0,s.eW)(" | Peak year: ",-1)),(0,s.Lk)("strong",null,(0,_.v_)(o.metaVehicle.peak_year),1)])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",D,[t[11]||(t[11]=(0,s.Lk)("p",null,"Population Growth - Victorias population has increased over the past two decades, adding more than 1.7 million people since 2001, with Greater Melbourne accounting for most of that growth.",-1)),t[12]||(t[12]=(0,s.Lk)("p",null,"Melbournes Domination - Around 75% of Victorias population lives in Melbourne, meaning more people are competing for the same city space and resources.",-1)),t[13]||(t[13]=(0,s.Lk)("p",null,"CBD Pressure Rising - The concentration of people in and around Melbourne’s CBD has steadily increased, driving up demand for parking, housing, and transport during peak periods.",-1)),t[14]||(t[14]=(0,s.Lk)("p",null,"Shared Challenge - These numbers show that parking difficulty is not bad luck for the drivers. It’s a shared challenge.",-1)),o.metaPop?((0,s.uX)(),(0,s.CE)("p",$,[t[8]||(t[8]=(0,s.eW)(" Growth rate: ",-1)),(0,s.Lk)("strong",null,(0,_.v_)((100*o.metaPop.growth_rate).toFixed(2))+"%",1),t[9]||(t[9]=(0,s.eW)(" | Density 2021: ",-1)),(0,s.Lk)("strong",null,(0,_.v_)(n.formatNumber(o.metaPop.population_density_2021)),1),t[10]||(t[10]=(0,s.eW)(" ppl/km² ",-1))])):(0,s.Q3)("",!0)])])])])}a(4114),a(8111),a(7588),a(1701);var V=a(4335),W=a(4736),z={name:"InsightsView",components:{HeaderBar:L},data(){return{metaVehicle:null,metaPop:null,charts:[]}},methods:{formatNumber(e){return e||0===e?Math.round(e).toLocaleString():"—"},drawCharts(e,t,a,r){this.charts.forEach(e=>e.destroy()),this.charts=[],this.charts.push(new W.t1(this.$refs.vehicleChart,{type:"line",data:{labels:e,datasets:[{label:"Vehicles",data:t,borderColor:"#3b82f6",backgroundColor:"rgba(59,130,246,0.2)",tension:.3}]}})),this.charts.push(new W.t1(this.$refs.popChart,{type:"bar",data:{labels:a,datasets:[{label:"Population",data:r,backgroundColor:"#10b981"}]}}))}},async mounted(){try{const e=await V.A.get("/api/insights/vehicle-growth");this.metaVehicle=e.data.meta;const t=e.data.series.map(e=>e.year),a=e.data.series.map(e=>e.registrations),r=await V.A.get("/api/insights/cbd-population");this.metaPop=r.data.meta;const s=r.data.series.map(e=>e.year),o=r.data.series.map(e=>e.population);this.$nextTick(()=>this.drawCharts(t,a,s,o))}catch(e){console.error(e)}},beforeUnmount(){this.charts.forEach(e=>e.destroy())}};const X=(0,n.A)(z,[["render",U],["__scopeId","data-v-5163201b"]]);var B=X;const H={class:"parking-view"},G={class:"mx-auto max-w-6xl px-4 py-12"},Z={class:"mb-8"},Q={class:"flex gap-4 max-w-md"},K=["disabled"],q={class:"rounded-xl border bg-white p-4 min-h-[500px] mb-6"},J={id:"parking-map",ref:"mapContainer",class:"w-full rounded-lg border-2 border-gray-400",style:{height:"500px","background-color":"#f3f4f6",position:"relative"}},Y={class:"mt-4 p-2 bg-gray-100 rounded text-sm"},ee={key:0,class:"mb-6"},te={class:"bg-green-50 border border-green-200 rounded-lg p-4"},ae={class:"text-lg font-semibold text-green-800 mb-2"},re={class:"text-green-700"},se={class:"font-bold"},oe={class:"font-bold"},ne={key:1,class:"mb-6"},ie={key:2,class:"mb-6"},le={class:"bg-red-50 border border-red-200 rounded-lg p-4"},ce={class:"text-red-700"},de={key:3,class:"bg-white rounded-lg p-4 border"},pe={class:"font-semibold mb-3 text-lg"},ue={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 max-h-60 overflow-y-auto"},he=["onClick"],ge={class:"font-medium text-blue-600"},me={class:"text-gray-600"},be={class:"text-gray-600 text-xs"},fe={class:"text-green-600 font-medium"};function ke(e,t,a,o,n,i){const l=(0,s.g2)("HeaderBar");return(0,s.uX)(),(0,s.CE)("div",H,[(0,s.bF)(l),(0,s.Lk)("main",G,[t[12]||(t[12]=(0,s.Lk)("h1",{class:"text-3xl md:text-5xl font-extrabold tracking-tight text-gray-900 mb-6"}," Real-time parking information ",-1)),t[13]||(t[13]=(0,s.Lk)("p",{class:"text-lg text-gray-600 max-w-3xl mb-10"}," View live parking availability and guidance for Melbourne CBD. We use real-time sensors and traffic data to help drivers find the nearest parking spots quickly, reducing congestion and emissions. ",-1)),(0,s.Lk)("div",Z,[(0,s.Lk)("div",Q,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.searchStreet=e),onKeyup:t[1]||(t[1]=(0,r.jR)((...e)=>i.searchParking&&i.searchParking(...e),["enter"])),type:"text",placeholder:"Enter street name or zone (e.g., 7394)",class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,544),[[r.Jo,n.searchStreet]]),(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.searchParking&&i.searchParking(...e)),disabled:n.loading||!n.searchStreet.trim(),class:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},(0,_.v_)(n.loading?"Searching...":"Search"),9,K)])]),(0,s.Lk)("div",q,[t[6]||(t[6]=(0,s.Lk)("h3",{class:"text-lg font-semibold mb-4"},"Melbourne Parking Map",-1)),(0,s.Lk)("div",J,t[3]||(t[3]=[(0,s.Lk)("div",{class:"absolute inset-0 flex items-center justify-center text-gray-500"}," Loading map... ",-1)]),512),(0,s.Lk)("div",Y,[(0,s.Lk)("p",null,[t[4]||(t[4]=(0,s.Lk)("strong",null,"Debug:",-1)),(0,s.eW)(" Map status: "+(0,_.v_)(n.map?"Initialized":"Not initialized"),1)]),(0,s.Lk)("p",null,[t[5]||(t[5]=(0,s.Lk)("strong",null,"Leaflet:",-1)),(0,s.eW)(" "+(0,_.v_)("undefined"!==typeof e.L?"Loaded":"Not loaded"),1)])])]),n.searchResults?((0,s.uX)(),(0,s.CE)("div",ee,[(0,s.Lk)("div",te,[(0,s.Lk)("h3",ae,' Search Results for "'+(0,_.v_)(n.searchResults.searchTerm)+'" ',1),(0,s.Lk)("p",re,[(0,s.Lk)("span",se,(0,_.v_)(n.searchResults.availableSpots),1),t[7]||(t[7]=(0,s.eW)(" available spots out of ",-1)),(0,s.Lk)("span",oe,(0,_.v_)(n.searchResults.totalSpots),1),t[8]||(t[8]=(0,s.eW)(" total spots ",-1))])])])):(0,s.Q3)("",!0),n.loading?((0,s.uX)(),(0,s.CE)("div",ne,t[9]||(t[9]=[(0,s.Lk)("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},[(0,s.Lk)("div",{class:"flex items-center"},[(0,s.Lk)("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-3"}),(0,s.Lk)("p",{class:"text-blue-700"},"Loading parking data...")])],-1)]))):(0,s.Q3)("",!0),n.error?((0,s.uX)(),(0,s.CE)("div",ie,[(0,s.Lk)("div",le,[t[10]||(t[10]=(0,s.Lk)("h3",{class:"text-lg font-semibold text-red-800 mb-2"},"Error",-1)),(0,s.Lk)("p",ce,(0,_.v_)(n.error),1)])])):(0,s.Q3)("",!0),n.searchResults&&n.searchResults.data.spots&&n.searchResults.data.spots.length>0?((0,s.uX)(),(0,s.CE)("div",de,[(0,s.Lk)("h4",pe,"Available Parking Spots ("+(0,_.v_)(n.searchResults.data.spots.length)+")",1),(0,s.Lk)("div",ue,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.searchResults.data.spots,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.kerbsideId,class:"bg-gray-50 p-3 rounded border text-sm hover:bg-gray-100 cursor-pointer",onClick:t=>i.focusOnSpot(e)},[(0,s.Lk)("div",ge,"Spot ID: "+(0,_.v_)(e.kerbsideId),1),(0,s.Lk)("div",me,"Zone: "+(0,_.v_)(e.zoneNumber),1),(0,s.Lk)("div",be,(0,_.v_)(e.lat?.toFixed(6))+", "+(0,_.v_)(e.lng?.toFixed(6)),1),(0,s.Lk)("div",fe,"✓ "+(0,_.v_)(e.status),1)],8,he))),128))]),t[11]||(t[11]=(0,s.Lk)("p",{class:"text-sm text-gray-500 mt-3"}," Click on a parking spot to focus on it on the map ",-1))])):(0,s.Q3)("",!0)])])}let ve;try{ve=a(3481),a(6689),console.log("Leaflet imported successfully")}catch(_e){console.error("Failed to import Leaflet:",_e)}ve&&(delete ve.Icon.Default.prototype._getIconUrl,ve.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"}));var ye={name:"ParkingView",components:{HeaderBar:L},data(){return{searchStreet:"",loading:!1,searchResults:null,error:null,map:null,markers:[],apiUrl:"https://ccj3gsn6fl.execute-api.ap-southeast-2.amazonaws.com/prod"}},mounted(){this.$nextTick(()=>{this.initializeMap()})},beforeUnmount(){this.map&&this.map.remove()},methods:{initializeMap(){if(console.log("=== MAP INITIALIZATION DEBUG ==="),"undefined"!==typeof ve)try{const e=this.$refs.mapContainer;if(console.log("Container element:",e),!e)return void console.error("MAP CONTAINER NOT FOUND!");e.innerHTML="",console.log("Creating Leaflet map..."),this.map=ve.map(e,{center:[-37.8136,144.9631],zoom:13,scrollWheelZoom:!0,zoomControl:!0,attributionControl:!0}),console.log("Map object created:",this.map);const t=ve.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors",maxZoom:19});t.addTo(this.map),console.log("Tile layer added");ve.marker([-37.8136,144.9631]).addTo(this.map).bindPopup("MAP IS WORKING!<br>Melbourne CBD<br>Search for parking above");console.log("Test marker added"),setTimeout(()=>{this.map&&(this.map.invalidateSize(),console.log("MAP INITIALIZED SUCCESSFULLY!"))},200)}catch(_e){console.error("MAP INITIALIZATION FAILED:",_e)}else console.error("LEAFLET NOT FOUND! Install with: npm install leaflet")},async searchParking(){if(this.searchStreet.trim()){this.loading=!0,this.error=null,this.searchResults=null,this.clearMarkers();try{console.log("Searching for:",this.searchStreet);const e=await fetch(`${this.apiUrl}/parking?street=${encodeURIComponent(this.searchStreet)}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error(`API request failed: ${e.status} ${e.statusText}`);const t=await e.json();console.log("API Response:",t),t.success?(this.searchResults=t,t.data.lat&&t.data.lng&&this.centerMap(t.data.lat,t.data.lng),t.data.spots&&t.data.spots.length>0&&this.addParkingMarkers(t.data.spots)):this.error=t.error||"Failed to fetch parking data"}catch(e){console.error("Search error:",e),console.error("API URL being called:",`${this.apiUrl}?street=${encodeURIComponent(this.searchStreet)}`),this.error=`Failed to connect to parking service: ${e.message}`}finally{this.loading=!1}}},centerMap(e,t){if(this.map){this.map.setView([e,t],16);const a=ve.marker([e,t],{icon:ve.divIcon({html:'<div style="background-color: #3b82f6; width: 20px; height: 20px; border-radius: 50%; border: 3px solid white;"></div>',iconSize:[20,20],className:"custom-div-icon"})}).addTo(this.map);a.bindPopup(`Search Center: ${this.searchStreet}`),this.markers.push(a)}},addParkingMarkers(e){this.map&&(e.forEach(e=>{const t=ve.divIcon({html:'\n            <div style="\n              background-color: #10b981; \n              color: white; \n              width: 30px; \n              height: 30px; \n              border-radius: 50%; \n              border: 2px solid white;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n              font-weight: bold;\n              font-size: 12px;\n              box-shadow: 0 2px 4px rgba(0,0,0,0.3);\n            ">P</div>\n          ',iconSize:[30,30],className:"parking-spot-icon"}),a=ve.marker([e.lat,e.lng],{icon:t}).addTo(this.map),r=`\n          <div style="font-family: sans-serif;">\n            <h4 style="margin: 0 0 8px 0; color: #1f2937;">Parking Spot</h4>\n            <p style="margin: 4px 0;"><strong>Spot ID:</strong> ${e.kerbsideId}</p>\n            <p style="margin: 4px 0;"><strong>Zone:</strong> ${e.zoneNumber}</p>\n            <p style="margin: 4px 0;"><strong>Status:</strong> <span style="color: #10b981; font-weight: bold;">${e.status}</span></p>\n            <p style="margin: 4px 0; font-size: 12px; color: #6b7280;">\n              ${e.lat.toFixed(6)}, ${e.lng.toFixed(6)}\n            </p>\n          </div>\n        `;a.bindPopup(r),this.markers.push(a)}),console.log(`Added ${e.length} parking markers to map`))},clearMarkers(){this.markers.forEach(e=>{this.map.removeLayer(e)}),this.markers=[]},focusOnSpot(e){this.map&&(this.map.setView([e.lat,e.lng],18),this.markers.forEach(t=>{const a=t.getLatLng();Math.abs(a.lat-e.lat)<1e-4&&Math.abs(a.lng-e.lng)<1e-4&&t.openPopup()}))}}};const Le=(0,n.A)(ye,[["render",ke],["__scopeId","data-v-7947161e"]]);var xe=Le;const we=[{path:"/",name:"Home",component:C},{path:"/insights",name:"Insights",component:B},{path:"/parking",name:"Parking",component:xe}];var Ce=(0,d.aE)({history:(0,d.LA)(),routes:we});(0,r.Ef)(c).use(Ce).mount("#app")}},t={};function a(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,r,s,o){if(!r){var n=1/0;for(d=0;d<e.length;d++){r=e[d][0],s=e[d][1],o=e[d][2];for(var i=!0,l=0;l<r.length;l++)(!1&o||n>=o)&&Object.keys(a.O).every(function(e){return a.O[e](r[l])})?r.splice(l--,1):(i=!1,o<n&&(n=o));if(i){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[r,s,o]}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/static/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,o,n=r[0],i=r[1],l=r[2],c=0;if(n.some(function(t){return 0!==e[t]})){for(s in i)a.o(i,s)&&(a.m[s]=i[s]);if(l)var d=l(a)}for(t&&t(r);c<n.length;c++)o=n[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},r=self["webpackChunkmelbourne_parking_frontend"]=self["webpackChunkmelbourne_parking_frontend"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],function(){return a(4529)});r=a.O(r)})();
//# sourceMappingURL=app.ecb020d3.js.map